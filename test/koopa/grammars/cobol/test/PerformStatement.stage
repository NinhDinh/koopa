package koopa.grammars.cobol.test;
grammar koopa.grammars.cobol.CobolGrammar;

# TODO See about the possibility of losing trailing dots.

target times;

+[ 42 TIMES ]
-[ 42.0 TIMES ]
+[ SEVERAL TIMES ]



target until;

+[ UNTIL COUNT > 42 ¥ . ]

+[ WITH TEST BEFORE UNTIL COUNT > 42 ¥ . ]
+[ TEST BEFORE UNTIL COUNT > 42 ¥ . ]

+[ WITH TEST AFTER UNTIL COUNT > 42 ¥ . ]
+[ TEST AFTER UNTIL COUNT > 42 ¥ . ]



target varying;

+[ VARYING COUNT FROM LOWER BY STEP UNTIL COUNT > UPPER ¥ . ]

+[ WITH TEST BEFORE
   VARYING COUNT
   FROM LOWER
   BY STEP
   UNTIL COUNT > UPPER ¥ . ]

+[ TEST BEFORE
   VARYING COUNT
   FROM LOWER
   BY STEP
   UNTIL COUNT > UPPER ¥ . ]

+[ WITH TEST AFTER
   VARYING COUNT
   FROM LOWER
   BY STEP
   UNTIL COUNT > UPPER ¥ . ]

+[ TEST AFTER
   VARYING COUNT
   FROM LOWER
   BY STEP
   UNTIL COUNT > UPPER ¥ . ]

+[ VARYING COUNT FROM LOWER BY STEP UNTIL COUNT > UPPER
   AFTER OTHER-COUNT FROM A-1 BY A-2 UNTIL OTHER-COUNT > A-3 ¥ . ]

+[ VARYING COUNT FROM LOWER BY STEP UNTIL COUNT > UPPER
   AFTER OTHER-COUNT FROM A-1 BY A-2 UNTIL OTHER-COUNT > A-3
   AFTER OTHER-COUNT FROM B-1 BY B-2 UNTIL OTHER-COUNT > B-3 ¥ . ]



target performStatement;

+[ PERFORM SUB-A ]
+[ PERFORM SUB-A THROUGH SUB-B ]
+[ PERFORM SUB-A THRU SUB-B ]

+[ PERFORM 24 ]
+[ PERFORM 24 THROUGH 42 ]
+[ PERFORM 24 THRU 42 ]

+[ PERFORM
     DISPLAY 1
   END-PERFORM ]

+[ PERFORM
     DISPLAY 1
     DISPLAY 2
     DISPLAY 3
   END-PERFORM ]

+[ PERFORM SUB-A 7 TIMES ]
+[ PERFORM SUB-A THROUGH SUB-B 7 TIMES ]
+[ PERFORM 7 TIMES
     DISPLAY 1
     DISPLAY 2
     DISPLAY 3
   END-PERFORM ]

+[ PERFORM SUB-A UNTIL COUNT > 42 ¥ . ]
+[ PERFORM SUB-A THROUGH SUB-B UNTIL COUNT > 42 ¥ . ]
+[ PERFORM SUB-A THRU SUB-B UNTIL COUNT > 42 ¥ . ]

+[ PERFORM UNTIL COUNT > 42
     DISPLAY 1
     DISPLAY 2
     DISPLAY 3
   END-PERFORM ]

+[ PERFORM SUB-A
     VARYING COUNT FROM LOWER BY STEP UNTIL COUNT > UPPER ¥ . ]

+[ PERFORM SUB-A THROUGH SUB-B
     VARYING COUNT FROM LOWER BY STEP UNTIL COUNT > UPPER ¥ . ]

+[ PERFORM SUB-A THRU SUB-B
     WITH TEST BEFORE
     VARYING COUNT FROM LOWER BY STEP UNTIL COUNT > UPPER ¥ . ]

+[ PERFORM SUB-A THRU SUB-B
     TEST BEFORE
     VARYING COUNT FROM LOWER BY STEP UNTIL COUNT > UPPER ¥ . ]

+[ PERFORM SUB-A THRU SUB-B
     WITH TEST AFTER
     VARYING COUNT FROM LOWER BY STEP UNTIL COUNT > UPPER ¥ . ]

+[ PERFORM SUB-A THRU SUB-B
     TEST AFTER
     VARYING COUNT FROM LOWER BY STEP UNTIL COUNT > UPPER ¥ . ]

+[ PERFORM SUB-A THRU SUB-B
     VARYING COUNT FROM LOWER BY STEP UNTIL COUNT > UPPER ¥ . ]

+[ PERFORM SUB-A THRU SUB-B
     VARYING COUNT FROM LOWER BY STEP UNTIL COUNT > UPPER
     AFTER OTHER-COUNT FROM A-1 BY A-2 UNTIL OTHER-COUNT > A-3
     AFTER OTHER-COUNT FROM B-1 BY B-2 UNTIL OTHER-COUNT > B-3 ¥ . ]
