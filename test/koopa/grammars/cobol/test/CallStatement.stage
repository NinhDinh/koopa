package koopa.grammars.cobol.test;
grammar koopa.grammars.cobol.CobolGrammar;

target callStatement;

# Simplest calls possible.
+[ CALL MY-SERVICE ]
+[ CALL "MY-SERVICE" ]
-[ CALL 42 ]
-[ CALL 42.42 ]

# Implicit "BY REFERENCE":
+[ CALL MY-SERVICE USING MY-DATA ]
+[ CALL MY-SERVICE USING MY-DATA MY-OTHER-DATA ]

# Explicit "BY REFERENCE":
+[ CALL MY-SERVICE USING BY REFERENCE MY-DATA ]
+[ CALL MY-SERVICE USING BY REFERENCE OMITTED ]
+[ CALL MY-SERVICE USING BY REFERENCE MY-DATA MY-OTHER-DATA ]
+[ CALL MY-SERVICE USING REFERENCE MY-DATA ]
+[ CALL MY-SERVICE USING REFERENCE MY-DATA MY-OTHER-DATA ]

# "BY CONTENT":
+[ CALL MY-SERVICE USING BY CONTENT MY-DATA ]
+[ CALL MY-SERVICE USING BY CONTENT "DATA" ]
+[ CALL MY-SERVICE USING BY CONTENT 1234 ]
+[ CALL MY-SERVICE USING BY CONTENT 1234.567 ]
+[ CALL MY-SERVICE USING BY CONTENT MY-DATA MY-OTHER-DATA ]
+[ CALL MY-SERVICE USING CONTENT MY-DATA ]
+[ CALL MY-SERVICE USING CONTENT "DATA" ]
+[ CALL MY-SERVICE USING CONTENT 1234 ]
+[ CALL MY-SERVICE USING CONTENT 1234.567 ]
+[ CALL MY-SERVICE USING CONTENT MY-DATA MY-OTHER-DATA ]

# "BY VALUE":
+[ CALL MY-SERVICE USING BY VALUE MY-DATA ]
+[ CALL MY-SERVICE USING BY VALUE "DATA" ]
+[ CALL MY-SERVICE USING BY VALUE 1234 ]
+[ CALL MY-SERVICE USING BY VALUE 1234.567 ]
+[ CALL MY-SERVICE USING BY VALUE MY-DATA MY-OTHER-DATA ]
+[ CALL MY-SERVICE USING VALUE MY-DATA ]
+[ CALL MY-SERVICE USING VALUE "DATA" ]
+[ CALL MY-SERVICE USING VALUE 1234 ]
+[ CALL MY-SERVICE USING VALUE 1234.567 ]
+[ CALL MY-SERVICE USING VALUE MY-DATA MY-OTHER-DATA ]

# Mixing it up:
+[ CALL MY-SERVICE USING
     BY REFERENCE MY-REFERENCED-DATA
     BY CONTENT MY-CONTENT-DATA
     BY VALUE MY-VALUE-DATA ]

+[ CALL MY-SERVICE USING
     BY CONTENT MY-CONTENT-DATA
     BY VALUE MY-VALUE-DATA
     BY REFERENCE MY-REFERENCED-DATA ]

+[ CALL MY-SERVICE USING
     REFERENCE MY-REFERENCED-DATA
     BY VALUE MY-VALUE-DATA
     CONTENT MY-CONTENT-DATA ]

+[ CALL MY-SERVICE USING
     CONTENT MY-CONTENT-DATA
     VALUE MY-VALUE-DATA
     REFERENCE MY-REFERENCED-DATA ]

+[ CALL MY-SERVICE USING
     MY-REFERENCED-DATA
     BY VALUE MY-VALUE-DATA
     BY CONTENT MY-CONTENT-DATA ]

+[ CALL MY-SERVICE USING
     BY REFERENCE MY-REFERENCED-DATA
     BY CONTENT MY-CONTENT-DATA
     BY VALUE MY-VALUE-DATA
     BY REFERENCE MY-OTHER-REFERENCED-DATA ]

+[ CALL MY-SERVICE USING
     BY CONTENT MY-CONTENT-DATA
     BY REFERENCE MY-REFERENCED-DATA
     BY CONTENT MY-OTHER-CONTENT-DATA ]

+[ CALL MY-SERVICE USING
     BY REFERENCE MY-REFERENCED-DATA
     BY CONTENT MY-CONTENT-DATA
     BY REFERENCE MY-OTHER-REFERENCED-DATA
     BY CONTENT MY-OTHER-CONTENT-DATA ]

+[ CALL MY-SERVICE USING
     BY CONTENT MY-CONTENT-DATA
     BY REFERENCE MY-REFERENCED-DATA
     BY CONTENT MY-OTHER-CONTENT-DATA
     BY REFERENCE MY-OTHER-REFERENCED-DATA ]

+[ CALL MY-SERVICE USING
     MY-REFERENCED-DATA
     BY CONTENT MY-CONTENT-DATA
     BY REFERENCE MY-OTHER-REFERENCED-DATA
     BY CONTENT MY-OTHER-CONTENT-DATA ]

# "ON OVERFLOW":
+[ CALL MY-SERVICE
     ON OVERFLOW
        DISPLAY "SERVICE OVERFLOW" ]

+[ CALL MY-SERVICE
     OVERFLOW
        DISPLAY "SERVICE OVERFLOW" ]

# "ON EXCEPTION":
+[ CALL MY-SERVICE
     ON EXCEPTION
        DISPLAY "SERVICE EXCEPTION" ]

+[ CALL MY-SERVICE
     EXCEPTION
        DISPLAY "SERVICE EXCEPTION" ]

# "NOT ON EXCEPTION":
+[ CALL MY-SERVICE
     NOT ON EXCEPTION
        DISPLAY "NO SERVICE EXCEPTION" ]

+[ CALL MY-SERVICE
     NOT EXCEPTION
        DISPLAY "NO SERVICE EXCEPTION" ]

# "END-CALL":
+[ CALL MY-SERVICE END-CALL ]
+[ CALL MY-SERVICE USING MY-DATA END-CALL ]
+[ CALL MY-SERVICE
 	 ON EXCEPTION
		DISPLAY "SERVICE EXCEPTION"
   END-CALL ]
